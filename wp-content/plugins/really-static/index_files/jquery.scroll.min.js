!function(a){function b(a,b){a.addClass(b.substring(1,b.length)+"-no")}function c(a,b){a.removeClass(b.substring(1,b.length)+"-no")}a.fn.Scroll=function(d){var o,q,r,t,u,v,e=this,f=a.extend({},a.fn.Scroll.defaults,d),g=a(f.leftBtn),h=a(f.rightBtn),i=e.find("ul").not(a(f.secClass+" ul")),j=i.children("li"),k=a(j[0]).offset().left,l=f.visible,m=0,p="l";return i.css({width:parseInt(e.width())*j.length}),i.offset().left,t=!0,u=!0,v={init:function(){1!=j.length?0==f.visible?g.addClass(f.leftBtn.substring(1,f.leftBtn.length)+"-no"):f.visible==j.length-1&&h.addClass(f.rightBtn.substring(1,f.rightBtn.length)+"-no"):(h.addClass(f.rightBtn.substring(1,f.rightBtn.length)+"-no"),g.addClass(f.leftBtn.substring(1,f.leftBtn.length)+"-no")),f.auto&&(q=v.getSeUl(l),r=v.getSeLi(l),a(q).css("height",a(r[0]).height()*r.length),a(q).css("margin-top","0"),o=setInterval(function(){v.chStartScroll(a(q))},2e3))},startScroll:function(d,i){if(t){t=!1,u=!0,clearInterval(o);var n=parseInt(d.offset().left);if("l"==i){if(l==j.length-1)return!1;t=!1,l++,d.animate({marginLeft:n-e.width()+k},f.speed,function(){m=0,0!=l&&c(g,f.leftBtn),l==j.length-1&&(b(h,f.rightBtn),t=!1),q=v.getSeUl(l),r=v.getSeLi(l),a(q).css("height",parseInt(a(r[0]).height())*r.length),a(q).css("margin-top","0"),o=setInterval(function(){v.chStartScroll(a(q))},2e3)})}else if("r"==i){if(0==l)return!1;t=!1,l--,d.animate({marginLeft:n+e.width()-3*k},f.speed,function(){m=0,u=!1,l!=j.length-1&&c(h,f.rightBtn),0==l&&(b(g,f.leftBtn),t=!1),q=v.getSeUl(l),r=v.getSeLi(l),a(q).css("height",a(r[0]).height()*r.length),a(q).css("margin-top","0"),o=setInterval(function(){v.chStartScroll(a(q))},2e3)})}}},getSeUl:function(b){return a(j[b]).find("ul")},getSeLi:function(b){return a(j[b]).find("li")},chStartScroll:function(a){u=!1,a.parent().parent().next().find("ul").css("margin-top","0"),a.parent().parent().prev().find("ul").css("margin-top","0");var b=parseInt(a.offset().top);1!=j.length?((289==-b||240==-b||229==-b)&&(t=!0,l==j.length-1?(p="r",v.startScroll(i,p)):0==l?(p="l",v.startScroll(i,p)):v.startScroll(i,p)),m++,a.animate({marginTop:b-60},f.speed,function(){l==j.length-1?(t=!0,m==r.length-1&&(p="r",v.startScroll(i,p))):0==l?m==r.length-1?(p="l",v.startScroll(i,p),t=!1):t=!0:(t=!0,m==r.length-1&&v.startScroll(i,p))})):m!=r.length-1?a.animate({marginTop:b-60},f.speed,function(){m++}):(m==r.length-1||193==-b||229==-b)&&a.animate({marginTop:0},300,function(){m=0})}},a("body").on("click",f.leftBtn,function(){return u?!1:(t&&(a(this).hasClass(f.leftBtn.substring(1,f.leftBtn.length)+"-no")||(p="r",v.startScroll(i,p))),void 0)}),a("body").on("click",f.rightBtn,function(){return u?!1:(t&&(a(this).hasClass(f.rightBtn.substring(1,f.rightBtn.length)+"-no")||(p="l",v.startScroll(i,p))),void 0)}),v.init(),v},a.fn.Scroll.defaults={secClass:"",leftBtn:"",rightBtn:"",speed:1e3,auto:!0,beforeStart:null,afterEnd:null,visible:0}}(jQuery);